# Test cases for LaTeX error detection
# Organized by category for better maintainability

# --- Math Mode Errors ---
math_errors:
  missing_math_delimiter:
    log: |
      ! Missing $ inserted.
      <inserted text> 
                      $
      <to be read again> 
                         \
      l.27 \end{align}
    tex: "a = b + c"
    expected:
      error_signature: LATEX_MISSING_MATH_DELIMITERS
      error_line_in_tex: unknown
    description: Detects missing math delimiters
    tags: [math, syntax]

  nested_math:
    log: |
      ! Missing $ inserted.
      l.42 $a_{b_{c_}}$
      in math mode
    tex: "$a_{b_{c_}}$"
    expected:
      error_signature: LATEX_MISSING_MATH_DELIMITERS
      error_line_in_tex: unknown
    description: Handles nested math mode errors
    tags: [math, nested]
  
  # Add more test cases here following the same format
  # ...

# --- Table Errors ---
table_errors:
  misplaced_noalign:
    log: |
      ! Misplaced \noalign.
      \hline ->\noalign 
                         \global \@arrayrulewidth \@thisrulewidth \ifnum0 ...
      l.15 \hline
    tex: |
      \begin{tabular}{ll}
        a & b \\
        \hline
        c & d
      \end{tabular}
    expected:
      error_signature: LATEX_TABULAR_ERROR
      error_line_in_tex: 3
    description: Detects misplaced \noalign in tables
    tags: [tables, alignment]

# --- Bibliography Errors ---
bib_errors:
  missing_bibitem:
    log: |
      ! LaTeX Error: Something's wrong--perhaps a missing \item.
      l.85 \bibitem{key}
    tex: "\\bibliography{refs}"
    expected:
      error_signature: LATEX_MISSING_ITEM
      error_line_in_tex: unknown
    description: Detects missing \item in bibliography
    tags: [bibliography, references]

# --- Environment Errors ---nenv_errors:
  caption_outside_float:
    log: |
      ! LaTeX Error: \caption outside float.
      l.70 \caption{Figure}
    tex: "\\caption{Figure}"
    expected:
      error_signature: LATEX_CAPTION_OUTSIDE_FLOAT
      error_line_in_tex: 1
    description: Detects captions outside float environments
    tags: [floats, environments]

# --- Cross-Reference Errors ---
ref_errors:
  undefined_reference:
    log: |
      ! Reference `sec:nonexistent' on page 1 undefined.
      l.45 \ref{sec:nonexistent}
    tex: "\\ref{sec:nonexistent}"
    expected:
      error_signature: LATEX_UNDEFINED_REFERENCE
      error_line_in_tex: 1
    description: Detects undefined references
    tags: [references, cross-references]

# --- Package-Specific Errors ---
pkg_errors:
  hyperref_error:
    log: |
      ! Package hyperref Error: Wrong DVI mode driver option.
    tex: "\\documentclass{article}\\n          \\usepackage[dvipdfm]{hyperref}"
    expected:
      error_signature: LATEX_PACKAGE_ERROR
      error_line_in_tex: 2
    description: Detects hyperref package errors
    tags: [packages, hyperref]
